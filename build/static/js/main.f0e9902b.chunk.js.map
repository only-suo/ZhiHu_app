{"version":3,"sources":["assets/img/tou.jpeg","assets/img/bg.png","assets/js/js.js","components/Menu.js","components/Home.js","Store/index.js","components/Details.js","components/Comment.js","components/Collect.js","router/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","deviceWidth","document","documentElement","clientWidth","style","fontSize","Menu","state","props","className","ref","display","width","height","clientHeight","src","tou","alt","onClick","this","goColl","bind","goHome","e","target","refs","menu","body","overflow","prop","history","push","pathname","React","Component","arr","Home","data","info","title","date","bfData","show","open","onOpenChange","args","console","log","setState","sidebar","enableDragHandle","contentStyle","sidebarStyle","position","zIndex","overlayStyle","margin","marginTop","autoplay","infinite","map","val","key","go","id","image","verticalAlign","onLoad","window","dispatchEvent","Event","imgHeight","ind","images","moment","format","stories","x","getElementsByClassName","callback","axios","get","then","res","seeH","offsetHeight","addEventListener","downScroll","setTimeout","top_stories","newScroll","head","item","Array","from","scrollTop","undefined","offsetTop","innerHTML","scrollHeight","collected","EventEmitter","dispatcher","Dispatcher","register","action","actionType","some","actionParams","emit","Number","indexOf","splice","Details","css","imgU","num","Store","collect","flag","coll","color","back","goCom","rel","href","dangerouslySetInnerHTML","__html","None","top","background","lineHeight","obj","dispatch","location","img","createElement","setAttribute","appendChild","p","comments","length","on","Comment","sum","Snum","Lnum","shortData","longData","toggle","tag","shortIco","avatar","author","likes","content","time","Stog","Stag","Collect","Router","path","component","to","App","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f0e9902b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/tou.7ad0ad8a.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/bg.bda3c4d3.png\";","var deviceWidth = document.documentElement.clientWidth;\r\nif(deviceWidth > 750) deviceWidth = 750;\r\ndocument.documentElement.style.fontSize = deviceWidth/7.5 + 'px';\r\n","import React from 'react'\r\nimport '../assets/css/menu.css'\r\nimport tou from '../assets/img/tou.jpeg'\r\n// import { Drawer, List, NavBar, Icon } from 'antd-mobile';\r\nimport 'antd-mobile/dist/antd-mobile.css';\r\n\r\nclass Menu extends React.Component{\r\n    state = {\r\n        // show: 'none'\r\n    };\r\n    render(props) {\r\n        // console.log(this.props.prop,'菜单');\r\n        // const sidebar = (<List>\r\n        //     {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15].map((i, index) => {\r\n        //         if (index === 0) {\r\n        //             return (<List.Item key={index}\r\n        //                                thumb=\"https://zos.alipayobjects.com/rmsportal/eOZidTabPoEbPeU.png\"\r\n        //                                multipleLine\r\n        //             >Category</List.Item>);\r\n        //         }\r\n        //         return (<List.Item key={index}\r\n        //                            thumb=\"https://zos.alipayobjects.com/rmsportal/eOZidTabPoEbPeU.png\"\r\n        //         >Category{index}</List.Item>);\r\n        //     })}\r\n        // </List>);\r\n        return (\r\n            <div className='menu_box' ref='menu' style={{display:'block',width:'100%',height:document.documentElement.clientHeight}}>\r\n                {/*<div className='menu_bg' onClick={this.None.bind(this)} style={{height:document.documentElement.clientHeight}}>*/}\r\n                    <div className='menu' style={{height:document.documentElement.clientHeight}}>\r\n                        <div className='menu_top'>\r\n                            <div className='menu_tit'>\r\n                                <a>\r\n                                    <img src={tou} alt=\"\"/>\r\n                                </a>\r\n                                <p>工藤新一</p>\r\n                            </div>\r\n                            <div className='action'>\r\n                                <div className='left_a' onClick={this.goColl.bind(this)}>\r\n                                    <span className=\"iconfont icon-shoucang\"/>\r\n                                    <p>我的收藏</p>\r\n                                </div>\r\n                                <div className='right_a'>\r\n                                    <span className=\"iconfont icon-xiazai1\"/>\r\n                                    <p>我的下载</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <ul className='menu_list'>\r\n                            <li className='active' onClick={this.goHome.bind(this)}>\r\n                                <span className=\"iconfont icon-shouye\"/>\r\n                                <p>首页</p>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                {/*</div>*/}\r\n                //  menu\r\n                {/*<NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>Basic</NavBar>*/}\r\n                {/*<Drawer*/}\r\n                {/*    className=\"my-drawer\"*/}\r\n                {/*    style={{ minHeight: document.documentElement.clientHeight }}*/}\r\n                {/*    enableDragHandle*/}\r\n                {/*    contentStyle={{ color: '#A6A6A6', textAlign: 'center', paddingTop: 42 }}*/}\r\n                {/*    sidebar={sidebar}*/}\r\n                {/*    open={this.state.open}*/}\r\n                {/*    onOpenChange={this.onOpenChange}*/}\r\n                {/*>*/}\r\n                {/*    Click upper-left corner*/}\r\n                {/*</Drawer>*/}\r\n            </div>\r\n        )\r\n    }\r\n    None(e){\r\n        // console.log(e.target.className);\r\n        // let box = document.getElementsByClassName('menu_box')[0];\r\n        if(e.target.className === 'menu_bg'){\r\n            this.refs.menu.style.display = 'none'\r\n        }\r\n        document.body.style.overflow = '';\r\n    }\r\n    goHome(e){\r\n        // this.setState({\r\n        //     show: 'none'\r\n        // });\r\n        if(e.target.className === 'menu_bg'){\r\n            this.refs.menu.style.display = 'none'\r\n        }\r\n        this.props.prop.history.push({\r\n            pathname: '/home'\r\n        })\r\n    }\r\n    goColl(e){\r\n        // this.setState({\r\n        //     show: 'none'\r\n        // });\r\n        if(e.target.className === 'menu_bg'){\r\n            this.refs.menu.style.display = 'none'\r\n        }\r\n        this.props.prop.history.push({\r\n            pathname: '/collect'\r\n        })\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Menu\r\n","import React from 'react'\r\nimport '../assets/css/home.css'\r\nimport axios from 'axios'\r\nimport { Carousel, WingBlank } from 'antd-mobile';\r\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\r\nimport 'antd-mobile/dist/antd-mobile.css';\r\n// import tou from '../assets/img/tou.jpeg'\r\nimport Menu from './Menu'\r\nimport moment from 'moment'\r\nlet arr=['星期日','星期一','星期二','星期三','星期四','星期五','星期六'];\r\n\r\n// console.log(arr[moment('20191016').format('d')]);\r\n// console.log(moment('20191016').format('MM-D/')+arr[moment('20191016').format('d')]);\r\n\r\nclass Home extends React.Component{\r\n    state = {\r\n        data: ['1', '2', '3'],\r\n        info: [],\r\n        title: '首页',\r\n        date:'',\r\n        bfData:[],\r\n        show: 'none',\r\n        clientHeight: null,\r\n        open: false,     // 左侧菜单 开启关闭\r\n    };\r\n\r\n    render() {\r\n        const sidebar = (\r\n            <List>\r\n                <Menu prop={this.props}/>\r\n            {/*{[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15].map((i, index) => {*/}\r\n            {/*    if (index === 0) {*/}\r\n            {/*        return (<List.Item key={index}*/}\r\n            {/*                           thumb=\"https://zos.alipayobjects.com/rmsportal/eOZidTabPoEbPeU.png\"*/}\r\n            {/*                           multipleLine*/}\r\n            {/*        >Category</List.Item>);*/}\r\n            {/*    }*/}\r\n            {/*    return (<List.Item key={index}*/}\r\n            {/*                       thumb=\"https://zos.alipayobjects.com/rmsportal/eOZidTabPoEbPeU.png\"*/}\r\n            {/*    >Category{index}</List.Item>);*/}\r\n            {/*})}*/}\r\n            </List>\r\n        );\r\n        return (\r\n            <div className='home'>\r\n                {/*<Menu prop={this.props}/>*/}\r\n\r\n                {/*menu*/}\r\n                {/*<NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>Basic</NavBar>*/}\r\n                <Drawer\r\n                    className=\"my-drawer\"\r\n                    style={{ width:0 }}\r\n                    enableDragHandle\r\n                    contentStyle={{  }}\r\n                    sidebar={sidebar}\r\n                    open={this.state.open}\r\n                    onOpenChange={this.onOpenChange}\r\n                    sidebarStyle={{position:'fixed',zIndex:9999}}\r\n                    overlayStyle={{position:'fixed'}}\r\n                >\r\n                    Click upper-left corner\r\n                </Drawer>\r\n\r\n                <div className='head' ref='head'>\r\n                    <div className='left_ic'>\r\n                        {/*<span className=\"iconfont icon-ego-menu\" onClick={this.menu.bind(this)}/>*/}\r\n                        <span className=\"iconfont icon-ego-menu\" onClick={this.onOpenChange}/>\r\n                        <p>{this.state.title === '今日新闻' ? '首页' : this.state.title}</p>\r\n                    </div>\r\n                    <div className='right_icon'>\r\n                        <span className=\"iconfont icon-lingdang\"/>\r\n                        <span className=\"iconfont icon-gengduo\"/>\r\n                    </div>\r\n                </div>\r\n                <WingBlank style={{margin:'0',marginTop:'1.18rem'}}>\r\n                    <Carousel\r\n                        autoplay={true}   // 是否自动轮播\r\n                        infinite\r\n                        // beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\r\n                        // afterChange={index => console.log('slide to', index)}\r\n                    >\r\n                        {this.state.data.map(val => (\r\n                            <a\r\n                                key={val}\r\n                                style={{ display: 'inline-block', width: '100%', height: '4rem' ,margin: '0',position: 'relative'}}\r\n                                onClick={this.go.bind(this,val.id)}\r\n                            >\r\n                                <img\r\n                                    // src={`https://zos.alipayobjects.com/rmsportal/${val}.png`}\r\n                                    src={val.image}\r\n                                    alt=\"\"\r\n                                    style={{ width: '100%', height: '4rem' ,verticalAlign: 'top' }}\r\n                                    onLoad={() => {\r\n                                        // fire window resize event to change height\r\n                                        window.dispatchEvent(new Event('resize'));\r\n                                        this.setState({ imgHeight: 'auto' });\r\n                                    }}\r\n                                />\r\n                                <p className='desc'>{val.title}</p>\r\n                            </a>\r\n                        ))}\r\n                    </Carousel>\r\n                </WingBlank>\r\n                <div className='news_boxs'>\r\n                    <div className='news_cont' ref='item'>\r\n                        <h2 className='tit'>今日新闻</h2>\r\n                        <ul className='news_list'>\r\n                            {\r\n                                this.state.info.map((val,ind) => {\r\n                                    return <li key={ind} onClick={this.go.bind(this,val.id)}>\r\n                                        <a className='news_info'>\r\n                                            <p>{val.title}</p>\r\n                                            <div className='img_box'>\r\n                                                <img src={val.images} alt=\"\"/>\r\n                                            </div>\r\n                                        </a>\r\n                                    </li>\r\n                                })\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    {\r\n                        this.state.bfData.map((val,ind)=>{\r\n                            return <div className='news_cont' key={ind}>\r\n                                        {/*<h2>{(val.date).substr(0,4)}-{(val.date).substr(4,2)}-{(val.date).substring(6,)}</h2>*/}\r\n                                        <h2 className='tit'>{moment(val.date).format('MM月DD日 '+arr[moment(val.date).format('d')] )}</h2>\r\n                                        <ul className='news_list'>\r\n                                            {\r\n                                                val.stories.map((val,ind) => {\r\n                                                    return <li key={ind} onClick={this.go.bind(this,val.id)}>\r\n                                                        <a className='news_info'>\r\n                                                            <p>{val.title}</p>\r\n                                                            <div className='img_box'>\r\n                                                                <img src={val.images} alt=\"\"/>\r\n                                                            </div>\r\n                                                        </a>\r\n                                                    </li>\r\n                                                })\r\n                                            }\r\n                                        </ul>\r\n                                    </div>\r\n                        })\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n    // 控制左侧 menu  打开关闭\r\n    onOpenChange = (...args) => {\r\n        console.log(args);\r\n        this.setState({ open: !this.state.open });\r\n    };\r\n    go(x){\r\n        this.props.history.push({\r\n            pathname:'/details',\r\n            state: {\r\n                id: x\r\n            }\r\n        });\r\n        // console.log(x);\r\n    }\r\n    menu(){\r\n        // this.props\r\n        let mBox = document.getElementsByClassName('menu_box')[0];\r\n        mBox.style.display = 'block';\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n    // componentWillMount() {\r\n    //     var data = null;\r\n    //     axios.get('/api/4/news/latest').then((res)=>{\r\n    //         console.log(res.data);\r\n    //         console.log(res.data.stories);\r\n    //         this.setState({\r\n    //             info: res.data.stories,\r\n    //             date: res.data.date\r\n    //         });\r\n    //         // data = res.data.top_stories;\r\n    //         setTimeout(() => {\r\n    //             this.setState({\r\n    //                 data: res.data.top_stories,\r\n    //             });\r\n    //         }, 100);\r\n    //     });\r\n    // }\r\n\r\n    componentWillUnmount() {\r\n        // 卸载异步操作设置状态\r\n        // clearTimeout(this.timeouter);\r\n        this.setState = (state, callback) => {\r\n            return true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/4/news/latest').then((res)=>{\r\n            console.log(res.data);\r\n            // console.log(res.data.stories);\r\n            this.setState({\r\n                info: res.data.stories,\r\n                date: res.data.date\r\n            });\r\n            // 当内容小于可视区的高\r\n            let seeH = document.documentElement.clientHeight;  // 可视区高\r\n            let contH = document.documentElement.offsetHeight; // 内容高\r\n            // console.log(seeH,'可视区高');\r\n            // console.log(contH,'内容高');\r\n            if(contH<=seeH){\r\n                axios.get(\r\n                    `/api/4/news/before/${this.state.date}`\r\n                ).then((res)=>{\r\n                    // console.log(res.data);\r\n                    // console.log(this.state.bfData,'之前的数据');\r\n                    this.state.bfData.push(res.data);\r\n                    this.setState({\r\n                        date: res.data.date,\r\n                        bfData: this.state.bfData\r\n                        // bfData:res.data\r\n                    });\r\n                    // console.log(this.state.bfData,'更新后的数据');\r\n                    // console.log(this.state.date);\r\n                });\r\n                window.addEventListener('scroll',this.downScroll.bind(this));\r\n            } else {\r\n                // 窗口触发 滚动 更新数据\r\n                window.addEventListener('scroll',this.downScroll.bind(this));\r\n            }\r\n            // data = res.data.top_stories;\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    data: res.data.top_stories,\r\n                });\r\n            }, 100);\r\n        });\r\n        // 当内容小于可视区的高\r\n        /*let seeH = document.documentElement.clientHeight;  // 可视区高\r\n        let contH = document.documentElement.offsetHeight; // 内容高\r\n        console.log(seeH,'可视区高');\r\n        console.log(contH,'内容高');\r\n        if(contH<=seeH){\r\n\r\n            axios.get(\r\n                `/api/4/news/before/${this.state.date}`\r\n            ).then((res)=>{\r\n                console.log(res.data);\r\n                // console.log(this.state.bfData,'之前的数据');\r\n                this.state.bfData.push(res.data);\r\n                this.setState({\r\n                    date: res.data.date,\r\n                    bfData: this.state.bfData\r\n                    // bfData:res.data\r\n                });\r\n                // console.log(this.state.bfData,'更新后的数据');\r\n                console.log(this.state.date);\r\n            });\r\n            window.addEventListener('scroll',this.downScroll.bind(this));\r\n        } else {\r\n            // 窗口触发 滚动 更新数据\r\n            window.addEventListener('scroll',this.downScroll.bind(this));\r\n        }*/\r\n\r\n        window.addEventListener('scroll',this.newScroll.bind(this));\r\n        // console.log(document.getElementsByTagName('h2'));\r\n        this.setState({\r\n            clientHeight: this.refs.head.clientHeight\r\n        })\r\n    }\r\n    // componentDidUpdate(prevProps, prevState, snapshot) {\r\n        // console.log(Array.from(document.getElementsByTagName('h2')),'更新的h2');\r\n        // var item = Array.from(document.getElementsByTagName('h2'));\r\n        // let arr = [];\r\n        // for(let i = 0;i < item.length;i++){\r\n        //     arr.push(item[i].innerHTML);\r\n        // }\r\n        // console.log(arr,'h2数组');\r\n        // for(let i = 0;i<item.length;i++){\r\n        //     if(item[i].scrollTop === this.refs.head.clientHeight){\r\n        //         console.log('1111');\r\n        //     }\r\n        // }\r\n    // }\r\n\r\n    newScroll(){\r\n        // var item = Array.from(document.getElementsByClassName('news_cont'));\r\n        var item = Array.from(document.getElementsByClassName('tit'));\r\n        // let arr = [];\r\n        // for(let i = 0;i < item.length;i++){\r\n        //     arr.push(item[i].innerHTML);\r\n        //     // console.log(item[i].innerHTML,'标题');\r\n        // }\r\n        // console.log(item);\r\n        // console.log(item[0].firstChild.innerHTML,'item[0]');\r\n        // console.log(arr);\r\n        let head = this.state.clientHeight;                     // head的高\r\n        let scrollTop = document.documentElement.scrollTop;     // 滚动的高\r\n        // console.log(document.documentElement.scrollTop,'滚动的高');\r\n        // console.log(item[0].offsetTop-head,'今日新闻 距离头的高');\r\n\r\n        // if(item[1] !== undefined){\r\n        //     console.log(item[1].offsetTop-head,'10-16 距离上头的高');\r\n        // }\r\n        item.map((val) => {\r\n            if(val !== undefined){\r\n                if(scrollTop >= (val.offsetTop-head)){\r\n                    this.setState({\r\n                        title: val.innerHTML\r\n                    })\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    downScroll(){\r\n        // 滚动到底部 加载数据\r\n        // console.log(this.state.date);\r\n        const scrollTop = document.documentElement.scrollTop;       // 滚动条滚动高度\r\n        const clientHeight = document.documentElement.clientHeight; // 可视区域的高度\r\n        const scrollHeight = document.documentElement.scrollHeight; // 滚动内容的高度\r\n        if((scrollTop+clientHeight) >= scrollHeight){\r\n            axios.get(\r\n                `/api/4/news/before/${this.state.date}`\r\n            ).then((res)=>{\r\n                // console.log(res.data);\r\n                // console.log(this.state.bfData,'之前的数据');\r\n                this.state.bfData.push(res.data);\r\n                this.setState({\r\n                    date: res.data.date,\r\n                    bfData: this.state.bfData\r\n                    // bfData:res.data\r\n                });\r\n                // console.log(this.state.bfData,'更新后的数据');\r\n                // console.log(this.state.date);\r\n\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home","// 1. 从flux 引入\r\nimport {Dispatcher} from 'flux'\r\n// 事件触发器\r\nimport EventEmitter from 'events'\r\n\r\nclass State extends EventEmitter {\r\n    collected = [];\r\n\r\n}\r\n\r\nvar state = new State();\r\n\r\n// 实例化派发器\r\nvar dispatcher = new Dispatcher;\r\n\r\n// 规范任务类型\r\ndispatcher.register((action)=>{\r\n    switch(action.actionType) {\r\n        case 'addColl' :\r\n            // console.log(222);\r\n            // if()\r\n            // state.collected = action.actionParams;\r\n\r\n            let cflag = state.collected.some(val => {\r\n                return val.id===action.actionParams.id\r\n            });\r\n            if(!cflag){\r\n                state.collected.push(action.actionParams);\r\n            }\r\n            state.emit('addColl');\r\n            console.log(state.collected,'加入收藏');\r\n            break;\r\n        case 'delColl' :\r\n            let arr = [];\r\n            state.collected.map(val => {\r\n                arr.push(Number(val.id))\r\n            });\r\n            if(arr.indexOf(action.actionParams.id) !== -1){\r\n                let ind = arr.indexOf(action.actionParams.id);\r\n                state.collected.splice(ind,1)\r\n            }\r\n            state.emit('delColl');\r\n            console.log(state.collected,'取消收藏');\r\n            break;\r\n    }\r\n});\r\n\r\n\r\nexport default {\r\n    state,\r\n    dispatcher\r\n}","import React from 'react'\r\nimport '../assets/css/details.css'\r\nimport axios from 'axios'\r\nimport Store from '../Store/index'\r\n\r\n\r\nclass Details extends React.Component{\r\n    state = {\r\n        data: [],\r\n        body: '',\r\n        css: '',\r\n        imgU: '',\r\n        title: '',\r\n        width: '',\r\n        height: '',\r\n        show: 'none',\r\n        num: 0,\r\n        collected: Store.state.collect,\r\n        collect :[],\r\n        flag : false\r\n    };\r\n    render(props) {\r\n        // console.log(this.props);\r\n        let coll = this.state.flag ? <span className=\"iconfont icon-shoucang\" style={{color:'yellow'}} onClick={this.coll.bind(this)}/> : <span className=\"iconfont icon-shoucang\" onClick={this.coll.bind(this)}/>\r\n        return (\r\n            <div className='details'>\r\n                <div className='heads'>\r\n                    <div className='left_i' onClick={this.back.bind(this)}>\r\n                        <span className=\"iconfont icon-fanhui\"/>\r\n                    </div>\r\n                    <div className='right_i'>\r\n                        <span className=\"iconfont icon-fenxiang\" onClick={this.show.bind(this)}/>\r\n                        {/*<span className=\"iconfont icon-shoucang\" onClick={this.coll.bind(this)}/>*/}\r\n                        {coll}\r\n                        <span className=\"iconfont icon-xiaoxi\" onClick={this.goCom.bind(this,this.state.id)}><i>{this.state.num}</i></span>\r\n                        <span className=\"iconfont icon-dianzan\"><i>25</i></span>\r\n                    </div>\r\n                </div>\r\n                <div className='cont'>\r\n                    <link  rel=\"stylesheet\" href={this.state.css}/>\r\n                    <div dangerouslySetInnerHTML={{ __html: this.state.body }} />\r\n                </div>\r\n                {/*<div className='share_box' onClick={this.None.bind(this)} style={{display:this.state.show,position: 'fixed',left:'0',top:'0',width:(this.state.width)/10 + 'rem',height:(this.state.height)/10 + 'rem',zIndex:'999999',background:'rgba(0,0,0,.5)'}}>*/}\r\n                <div className='share_box' onClick={this.None.bind(this)} style={{display:this.state.show,position: 'fixed',top:'0',width:'7.5rem',height:this.state.height,zIndex:'999999',background:'rgba(0,0,0,.5)'}}>\r\n                    <div className='s_box'>\r\n                        <h2>分享</h2>\r\n                        <ul className='icon_list clearfix'>\r\n                            <li>\r\n                                <span className=\"iconfont icon-weibo\" style={{color:'#F13F19'}}>\r\n                                    <i>新浪微博</i>\r\n                                </span>\r\n                            </li>\r\n                            <li>\r\n                                <span className=\"iconfont icon-weixin\" style={{color:'#60C84F'}}>\r\n                                    <i>微信</i>\r\n                                </span>\r\n                            </li>\r\n                            <li>\r\n                                <span className=\"iconfont icon-fenxiangweixinpengyouquan\" style={{color:'#71CF2A'}}>\r\n                                    <i>微信朋友圈</i>\r\n                                </span>\r\n                            </li>\r\n                            <li>\r\n                                <em className='xiang'><span className=\"iconfont icon-yinxiangbiji\" style={{fontSize:'.8rem',color:'#fff'}} /></em>\r\n                                <i style={{display:'block'}}>印象笔记</i>\r\n                            </li>\r\n                            <li>\r\n                                <em className='youdao'><span className=\"iconfont icon-youdaoyunbiji1\" style={{fontSize:'.6rem',color:'#fff',lineHeight:'1.1rem'}}/></em>\r\n                                <i style={{display:'block'}}>有道云笔记</i>\r\n                            </li>\r\n                            <li>\r\n                                <span className=\"iconfont icon-QQ\" style={{color:'#2369C8'}}>\r\n                                    <i>QQ</i>\r\n                                </span>\r\n                            </li>\r\n                            <li>\r\n                                <span className=\"iconfont icon-gengduo1\" style={{color:'#7F7F7F'}}>\r\n                                    <i>更多平台</i>\r\n                                </span>\r\n                            </li>\r\n                        </ul>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    back(){\r\n        this.props.history.go(-1);\r\n    }\r\n    show(){\r\n        this.setState({\r\n            show: 'block'\r\n        });\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n    None(e){\r\n        console.log(e.target);\r\n        if(e.target.className === 'share_box'){\r\n            this.setState({\r\n                show: 'none'\r\n            })\r\n        }\r\n        document.body.style.overflow = '';\r\n    }\r\n    goCom(x){\r\n        this.props.history.push({\r\n            pathname: '/comment',\r\n            state:{\r\n                id: x\r\n            }\r\n        })\r\n    }\r\n    coll(){\r\n        let coll = this.state.flag;\r\n        let obj = {\r\n            id: this.state.data.id,\r\n            title: this.state.data.title,\r\n            src: this.state.imgU,\r\n        };\r\n        // console.log(obj);\r\n        if(!coll){       // 未收藏              点击收藏\r\n            this.setState({\r\n                flag: true\r\n            });\r\n            Store.dispatcher.dispatch({\r\n                actionType : 'addColl',\r\n                actionParams : obj\r\n            });\r\n        } else {   // 已收藏           取消收藏\r\n            this.setState({\r\n                flag: false\r\n            });\r\n            Store.dispatcher.dispatch({\r\n                actionType : 'delColl',\r\n                actionParams : obj\r\n            });\r\n        }\r\n\r\n\r\n        /*this.state.collect.push(obj);\r\n        if(coll){  // 已收藏           取消收藏\r\n            this.setState({\r\n                flag: false\r\n            });\r\n            console.log(Store.state.collected,'取消收藏 之前');\r\n            // this.state.collect.push(obj);\r\n            Store.state.collected.map(val => {\r\n                if(val.id === obj.id){\r\n                    Store.state.collected.splice(obj)\r\n                }\r\n                // this.state.collect.push(obj);\r\n                this.setState({\r\n                    collect : this.state.collect\r\n                });\r\n                Store.dispatcher.dispatch({\r\n                    actionType : 'coll',\r\n                    actionParams : this.state.collect\r\n                });\r\n            });\r\n            console.log(Store.state.collected,'取消收藏 之后');\r\n\r\n        } else { // 未收藏              点击收藏\r\n            this.setState({\r\n                flag: true\r\n            });\r\n            console.log(Store.state.collected,'已收藏 之前');\r\n\r\n            // this.state.collect.push(obj);\r\n            this.setState({\r\n                collect : this.state.collect\r\n            });\r\n            Store.dispatcher.dispatch({\r\n                actionType : 'coll',\r\n                actionParams : this.state.collect\r\n            });\r\n\r\n            console.log(Store.state.collected,'已收藏 之后');\r\n        }\r\n*/\r\n\r\n        // localStorage\r\n\r\n        // if(localStorage.getItem('data') === null){\r\n        //     localStorage.setItem('data',JSON.stringify([obj]))\r\n        // } else {\r\n        //     // var flag = this.state.flag;\r\n        //     var item = JSON.parse(localStorage.getItem('data'));\r\n        //     // item.map((val,ind)=>{\r\n        //     //     console.log(val);\r\n        //     //     if(val.id === obj.id){\r\n        //     //         flag = true;\r\n        //     //         if(flag){\r\n        //     //             console.log('重复');\r\n        //     //             // val.id = obj.id;\r\n        //     //             // val.title = obj.title;\r\n        //     //             // val.src = obj.src;\r\n        //     //             // localStorage.setItem('data',JSON.stringify(item))\r\n        //     //         }\r\n        //     //         return true\r\n        //     //     } else {\r\n        //     //         flag = false;\r\n        //     //         if(flag === false){\r\n        //     //             // item.push(obj);\r\n        //     //             // localStorage.setItem('data',JSON.stringify(item));\r\n        //     //             // console.log('不重复');\r\n        //     //         }\r\n        //     //         item.push(obj);\r\n        //     //         localStorage.setItem('data',JSON.stringify(item));\r\n        //     //         console.log('不重复');\r\n        //     //     }\r\n        //     //\r\n        //     // })\r\n        //     console.log(item);\r\n        //     item.some(val => {\r\n        //         if(this.state.flag === false){\r\n        //             if(val.id !== obj.id){\r\n        //                 item.push(obj);\r\n        //                 localStorage.setItem('data',JSON.stringify(item));\r\n        //                 console.log('1');\r\n        //                 return true\r\n        //             } else {\r\n        //                 this.setState({\r\n        //                     flag: true\r\n        //                 });\r\n        //                 console.log('2');\r\n        //                 console.log('重复');\r\n        //             }\r\n        //         }\r\n        //     })\r\n        // }\r\n\r\n        // flux\r\n\r\n        // console.log(Store.state.collected,'已收藏 之前');\r\n        // if(Store.state.collected.length === 0){\r\n        //     this.state.collect.push(obj);\r\n        //     this.setState({\r\n        //         collect : this.state.collect\r\n        //     });\r\n        //     Store.dispatcher.dispatch({\r\n        //         actionType : 'coll',\r\n        //         actionParams : this.state.collect\r\n        //     });\r\n        // }\r\n        // else {\r\n        //     // 判断是否重复\r\n        //     this.state.collect.map(val => {\r\n        //         if(val.id === obj.id){\r\n        //             console.log('重复id')\r\n        //         }\r\n        //         // return true\r\n        //     });\r\n        // }\r\n        // console.log(Store.state.collected,'已收藏 之后');\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.setState({\r\n            width:document.documentElement.clientWidth,\r\n            height:document.documentElement.clientHeight\r\n        });\r\n        axios.get(\r\n            `/api/4/news/${this.props.location.state.id}`\r\n        ).then((res)=>{\r\n            // console.log(res.data);\r\n            // console.log(res.data.body);\r\n            this.setState({\r\n                id: this.props.location.state.id,\r\n                data: res.data,\r\n                body: res.data.body,\r\n                css: res.data.css,\r\n                imgU: res.data.image,\r\n                title: res.data.title\r\n            });\r\n            let item = document.getElementsByClassName('img-place-holder');\r\n            let img = document.createElement('img');\r\n\r\n            img.setAttribute('src',this.state.imgU);\r\n            // console.log(item[0],'before');\r\n            if(item[0] !== undefined){\r\n                item[0].appendChild(img);\r\n            }\r\n\r\n            let p = document.createElement('p');\r\n            p.innerHTML = this.state.title;\r\n            if(item[0] !== undefined){\r\n                item[0].appendChild(p)\r\n            }\r\n            // 短评\r\n            axios.get(\r\n                `/api/4/story/${this.state.id}/short-comments`\r\n            ).then((res)=>{\r\n                // console.log(res.data.comments.length);\r\n                this.setState({\r\n                    num: this.state.num += res.data.comments.length\r\n                })\r\n            });\r\n            // 长评\r\n            axios.get(\r\n                `/api/4/story/${this.state.id}/long-comments`\r\n            ).then((res)=>{\r\n                // console.log(res.data.comments.length);\r\n                this.setState({\r\n                    num: this.state.num += res.data.comments.length\r\n                })\r\n            })\r\n        });\r\n        Store.state.on('coll',()=>{\r\n            this.setState({\r\n                collect:Store.state.collected\r\n            })\r\n        });\r\n\r\n        // 获取当前 是否被收藏\r\n        let arr = [];\r\n        // console.log(this.props.location.state.id,'传过来的id');\r\n        // console.log(Store.state.collected,'数组');\r\n        Store.state.collected.map(val => {\r\n            console.log(val.id,'数据中id');\r\n            arr.push(Number(val.id))\r\n        });\r\n        // console.log(arr.indexOf(this.props.location.state.id),'是否存在');\r\n        if(arr.indexOf(this.props.location.state.id) === -1){\r\n            this.setState({\r\n                flag : false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                flag : true\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default Details\r\n","import React from 'react'\r\nimport '../assets/css/comment.css'\r\nimport axios from 'axios'\r\nimport img from '../assets/img/bg.png'\r\nimport moment from 'moment'\r\n\r\nclass Comment extends React.Component{\r\n    state = {\r\n        id: null,\r\n        sum: 0,\r\n        Snum: 0,\r\n        Lnum: 0,\r\n        shortData: [],\r\n        longData: [],\r\n        // Ltoggle: 'block',\r\n        // Lflag: true,\r\n        toggle: 'none',\r\n        flag: false,\r\n        tag: 'none',\r\n        // Stag: 'none',\r\n    };\r\n    render(props) {\r\n        // console.log(this.props);\r\n\r\n        let shortIco = this.state.flag?<span className=\"iconfont icon-xia-up\"/>:<span className=\"iconfont icon-xia-down\"/>\r\n        return (\r\n            <div className='comment'>\r\n                {/*<h2>这是短评</h2>*/}\r\n                <div className='headc'>\r\n                    <div className='left_icon'>\r\n                        <span className=\"iconfont icon-fanhui\" onClick={this.back.bind(this)}/>\r\n                        <p>{this.state.sum} 条点评</p>\r\n                    </div>\r\n                    <div className='r_icon'>\r\n                        <span className=\"iconfont icon-xiewrite18\"/>\r\n                    </div>\r\n                </div>\r\n                <div className='content'>\r\n                    <div className='top_long'>\r\n                        <p>{this.state.Lnum} 条长评</p>\r\n                        {/*<em>{longIco}</em>*/}\r\n                        {/*<span className=\"iconfont icon-xia-up\"/>*/}\r\n                    </div>\r\n                    <div className='null' style={{display:this.state.tag,height:'10.2rem'}}>\r\n                        <div className='null_box'>\r\n                            <img src={img} alt=\"\"/>\r\n                            <h2>深度长评虚位以待</h2>\r\n                        </div>\r\n                    </div>\r\n                    <ul className='com_list'>\r\n                        {\r\n                            this.state.longData.map((val,ind)=>{\r\n                                return <li key={ind}>\r\n                                        <span className='left_tu'>\r\n                                            <img src={val.avatar} alt=\"\"/>\r\n                                        </span>\r\n                                    <div className='right_box'>\r\n                                        <div className='r_title'><h2>{val.author}</h2><span className=\"iconfont icon-dianzan\" style={{color:'#B9B9B9',fontSize:'.35rem'}}><i>{val.likes}</i></span></div>\r\n                                        <p className='com_text'>{val.content}</p>\r\n                                        <p className='com_time'>{moment(val.time).format(\"MM-DD HH:mm\")}</p>\r\n                                    </div>\r\n                                </li>\r\n                            })\r\n                        }\r\n                    </ul>\r\n                    <div className='top_short' onClick={this.Stog.bind(this)}>\r\n                        <p>{this.state.Snum} 条短评</p>\r\n                        <em className='em'>{shortIco}</em>\r\n                        {/*<span className=\"iconfont icon-xia-up\"/>*/}\r\n                    </div>\r\n                    {/*<div className='null' style={{display:this.state.Stag,}}>*/}\r\n                    {/*    <div className='null_box'>*/}\r\n                    {/*        <img src={img} alt=\"\"/>*/}\r\n                    {/*        <h2>深度长评虚位以待</h2>*/}\r\n                    {/*    </div>*/}\r\n                    {/*</div>*/}\r\n                    <ul className='com_list' style={{display:this.state.toggle}}>\r\n                        {\r\n                            this.state.shortData.map((val,ind)=>{\r\n                                return <li key={ind}>\r\n                                        <span className='left_tu'>\r\n                                            <img src={val.avatar} alt=\"\"/>\r\n                                        </span>\r\n                                    <div className='right_box'>\r\n                                        <div className='r_title'><h2>{val.author}</h2><span className=\"iconfont icon-dianzan\" style={{color:'#B9B9B9',fontSize:'.35rem'}}><i>{val.likes}</i></span></div>\r\n                                        <p className='com_text'>{val.content}</p>\r\n                                        <p className='com_time'>{moment(val.time).format(\"MM-DD HH:mm\")}</p>\r\n                                    </div>\r\n                                </li>\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    back(){\r\n        this.props.history.go(-1)\r\n    }\r\n    Stog(){\r\n        var flag = this.state.flag;\r\n        if(flag){\r\n            this.setState({\r\n                toggle: 'none',\r\n                flag: false\r\n            });\r\n        }\r\n        if(!flag){\r\n            this.setState({\r\n                toggle: 'block',\r\n                flag: true\r\n            });\r\n            // console.log(document.documentElement.scrollTop);\r\n            console.log(document.getElementsByClassName('top_short')[0].offsetTop);\r\n            // let scrollTop = document.documentElement.scrollTop;  // 滚动的高\r\n            let offsetTop = document.getElementsByClassName('top_short')[0].offsetTop;  // 距离上面的高\r\n            let top = document.getElementsByClassName('headc')[0].clientHeight;\r\n            setTimeout(()=>{\r\n                document.documentElement.scrollTop = offsetTop - top;\r\n            },0)\r\n        }\r\n\r\n    }\r\n    // componentWillUnmount() {\r\n    //     // 卸载异步操作设置状态\r\n    //     this.setState = () => {\r\n    //         return true\r\n    //     }\r\n    // }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            id: this.props.location.state.id\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.setState({\r\n        //    id: this.props.location.state.id\r\n        // });\r\n        axios.get(\r\n            `/api/4/story/${this.state.id}/long-comments`\r\n        ).then((res)=>{\r\n            // console.log(res);\r\n            // console.log(res.data);\r\n            // console.log(res.data.comments.length);\r\n            this.setState({\r\n                Lnum: res.data.comments.length,\r\n                longData: res.data.comments,\r\n                sum : this.state.sum += res.data.comments.length\r\n            });\r\n            if(res.data.comments.length === 0){\r\n                this.setState({\r\n                    tag : 'block'\r\n                })\r\n            }\r\n        });\r\n        axios.get(\r\n            `/api/4/story/${this.state.id}/short-comments`\r\n        ).then((res)=>{\r\n            // console.log(res);\r\n            // console.log(res.data);\r\n            // console.log(res.data.comments.length);\r\n            this.setState({\r\n                Snum: res.data.comments.length,\r\n                shortData: res.data.comments,\r\n                sum : this.state.sum += res.data.comments.length\r\n            });\r\n            if(res.data.comments.length === 0){\r\n                this.setState({\r\n                    Stag : 'block'\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Comment","import React from 'react'\r\nimport '../assets/css/collect.css'\r\n// import axios from 'axios'\r\nimport Store from '../Store/index'\r\nimport { Carousel, WingBlank } from 'antd-mobile';\r\nimport { Drawer, List, NavBar, Icon } from 'antd-mobile';\r\nimport Menu from \"./Menu\";\r\n// import Menu from './Menu'\r\n\r\n\r\nclass Collect extends React.Component{\r\n    state = {\r\n        num: 0,\r\n        data: [],\r\n        open: false,     // 左侧菜单 开启关闭\r\n    };\r\n    render() {\r\n        const sidebar = (\r\n            <List>\r\n                <Menu prop={this.props}/>\r\n                {/*{[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15].map((i, index) => {*/}\r\n                {/*    if (index === 0) {*/}\r\n                {/*        return (<List.Item key={index}*/}\r\n                {/*                           thumb=\"https://zos.alipayobjects.com/rmsportal/eOZidTabPoEbPeU.png\"*/}\r\n                {/*                           multipleLine*/}\r\n                {/*        >Category</List.Item>);*/}\r\n                {/*    }*/}\r\n                {/*    return (<List.Item key={index}*/}\r\n                {/*                       thumb=\"https://zos.alipayobjects.com/rmsportal/eOZidTabPoEbPeU.png\"*/}\r\n                {/*    >Category{index}</List.Item>);*/}\r\n                {/*})}*/}\r\n            </List>\r\n        );\r\n        return (\r\n            <div className='collect'>\r\n                {/*<h2>这是收藏</h2>*/}\r\n                {/*<Menu prop={this.props}/>*/}\r\n                {/*menu*/}\r\n                {/*<NavBar icon={<Icon type=\"ellipsis\" />} onLeftClick={this.onOpenChange}>Basic</NavBar>*/}\r\n                <Drawer\r\n                    className=\"my-drawer\"\r\n                    style={{ width:0 }}\r\n                    enableDragHandle\r\n                    contentStyle={{  }}\r\n                    sidebar={sidebar}\r\n                    open={this.state.open}\r\n                    onOpenChange={this.onOpenChange}\r\n                    sidebarStyle={{position:'fixed',zIndex:9999}}\r\n                    overlayStyle={{position:'fixed'}}\r\n\r\n                >\r\n                    Click upper-left corner\r\n                </Drawer>\r\n                <div className='heado'>\r\n                    <div className='left_ico'>\r\n                        {/*<span className=\"iconfont icon-ego-menu\" onClick={this.menu.bind(this)}/>*/}\r\n                        <span className=\"iconfont icon-ego-menu\" onClick={this.onOpenChange}/>\r\n                        <p>{this.state.num} 条收藏</p>\r\n                    </div>\r\n                </div>\r\n                <div className='news_box'>\r\n                    <div className='news_cont'>\r\n                        <ul className='news_list'>\r\n                            {\r\n                                this.state.data.map((val,ind) => {\r\n                                    return <li key={ind} onClick={this.go.bind(this,val.id)}>\r\n                                        <a className='news_info'>\r\n                                            <p>{val.title}</p>\r\n                                            <div className='img_box'>\r\n                                                <img src={val.src} alt=\"\"/>\r\n                                            </div>\r\n                                        </a>\r\n                                    </li>\r\n                                })\r\n                            }\r\n                            {/*<li>*/}\r\n                            {/*    <a className='news_info'>*/}\r\n                            {/*        <p>标题</p>*/}\r\n                            {/*        <div className='img_box'>*/}\r\n                            {/*            <img src='' alt=\"\"/>*/}\r\n                            {/*        </div>*/}\r\n                            {/*    </a>*/}\r\n                            {/*</li>*/}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    // 控制左侧 menu  打开关闭\r\n    onOpenChange = (...args) => {\r\n        console.log(args);\r\n        this.setState({ open: !this.state.open });\r\n    };\r\n    menu(){\r\n        let menu = document.getElementsByClassName('menu_box')[0];\r\n        menu.style.display = 'block'\r\n    }\r\n    go(x){\r\n        this.props.history.push({\r\n            pathname:'/details',\r\n            state: {\r\n                id: x\r\n            }\r\n        });\r\n        // console.log(x);\r\n    }\r\n    componentDidMount() {\r\n        // localStorage\r\n\r\n        // if(localStorage.getItem('data') === null){\r\n        //     this.setState({\r\n        //         num: 0\r\n        //     });\r\n        //     console.log(0);\r\n        // } else {\r\n        //     let n = JSON.parse(localStorage.getItem('data')).length;\r\n        //     this.setState({\r\n        //         num: n\r\n        //     });\r\n        //     console.log(n);\r\n        //     this.setState({\r\n        //         data: JSON.parse(localStorage.getItem('data'))\r\n        //     })\r\n        // }\r\n\r\n        // flux\r\n\r\n        this.setState({\r\n            data : Store.state.collected,\r\n            num : Store.state.collected.length\r\n        });\r\n        console.log(Store.state.collected,'flux 数据');\r\n    }\r\n}\r\n\r\nexport default Collect","import React from 'react'\r\nimport {Route,Switch,Redirect} from 'react-router-dom'\r\n\r\nimport Home from '../components/Home'\r\nimport Details from '../components/Details'\r\nimport Comment from '../components/Comment'\r\nimport Collect from '../components/Collect'\r\n// import Menu from '../components/Menu'\r\n\r\nconst Router = ()=>{\r\n    return (\r\n        <div>\r\n            <Switch>\r\n                <Route path='/home' component={Home}/>\r\n                {/*<Route path='/menu' component={Menu}/>*/}\r\n                <Route path='/collect' component={Collect}/>\r\n                <Route path='/details' component={Details}/>\r\n                <Route path='/comment' component={Comment}/>\r\n                <Redirect to='/home'/>\r\n            </Switch>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Router","import React from 'react';\n// import logo from './logo.svg';\n// import './App.css';\nimport Router from './router/index'\n\n\nclass App extends React.Component{\n  render() {\n    return (\n        <div>\n            <Router/>\n        </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport './assets/css/reset.css'\nimport './assets/js/js'\n\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\nimport 'antd/dist/antd.css'\nimport './assets/icon/font_icon/iconfont.css'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}